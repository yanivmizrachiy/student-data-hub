<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ניהול תלמידים — חטיבת ביניים</title>

  <!-- פונט עברי נקי -->
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;800&display=swap" rel="stylesheet" />

  <!-- עיצוב מותאם -->
  <link rel="stylesheet" href="styles.css" />

  <!-- צבע לדפדפנים ניידים -->
  <meta name="theme-color" content="#0e1f40" />

  <script>
    // Redirect to GitHub Pages if running on localhost
    if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
      location.replace('https://yanivmizrachiy.github.io/student-data-hub/');
    }
  </script>
</head>
<body>
  <!-- רקע דקורטיבי -->
  <div class="bg">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
  </div>

  <!-- סרגל עליון -->
  <header class="topbar container">
    <div class="brand">
      <span class="logo">📚</span>
      <span class="brand-title">ניהול תלמידים</span>
      <span class="brand-sub">חטיבת ביניים</span>
    </div>

    <div class="admin">
      <button id="editBtn" class="btn btn-ghost" aria-label="עריכה">עריכה</button>
      <small class="muted">האתר מנוהל על ידי יניב רז</small>
    </div>
  </header>

  <!-- אזור גיבור מרכזי -->
  <main class="hero container">
    <h1 class="hero-title">ברוכים הבאים למערכת ניהול התלמידים</h1>
    <p class="hero-subtitle">
      בחרו שכבה לצפייה במידע. המספרים מתעדכנים אוטומטית כשקבצי הנתונים משתנים.
    </p>

    <!-- כפתורי שכבות (Cards) -->
    <section class="grid">
      <!-- שכבת ז -->
      <a class="grade-card" href="grade7.html" aria-label="שכבת ז'">
        <div class="badge">ז׳</div>
        <h2>שכבת ז׳</h2>
        <p class="count"><span id="count7">—</span> תלמידים</p>
        <div class="cta">כניסה</div>
      </a>

      <!-- שכבת ח -->
      <a class="grade-card" href="grade8.html" aria-label="שכבת ח'">
        <div class="badge green">ח׳</div>
        <h2>שכבת ח׳</h2>
        <p class="count"><span id="count8">—</span> תלמידים</p>
        <div class="cta">כניסה</div>
      </a>

      <!-- שכבת ט -->
      <a class="grade-card" href="grade9.html" aria-label="שכבת ט'">
        <div class="badge amber">ט׳</div>
        <h2>שכבת ט׳</h2>
        <p class="count"><span id="count9">—</span> תלמידים</p>
        <div class="cta">כניסה</div>
      </a>
    </section>
  </main>

  <!-- סיכום כולל -->
  <footer class="footer container">
    <div class="summary">
      <span class="sum-label">סך הכל תלמידים בחטיבת הביניים:</span>
      <span id="totalCount" class="sum-number">—</span>
    </div>
    <nav class="small-links">
      <a href="admin.html" class="muted">מסך ניהול (למנהלים)</a>
      <span class="dots">·</span>
      <a href="about.html" class="muted">אודות</a>
    </nav>
  </footer>

  <!-- מודאל אימות מנהל -->
  <dialog id="adminDialog" class="dialog">
    <form method="dialog" class="dialog-card" id="adminForm">
      <h3>כניסת מנהל</h3>
      <p class="muted">הזן קוד מנהל כדי לערוך נתונים.</p>
      <label class="field">
        <span>קוד מנהל</span>
        <input id="adminCode" type="password" inputmode="numeric" autocomplete="off" placeholder="******" required />
      </label>
      <div class="dialog-actions">
        <button value="cancel" class="btn btn-ghost" type="button" id="cancelAdmin">בטל</button>
        <button class="btn" type="submit">אשר</button>
      </div>
      <p id="adminError" class="error" role="alert" hidden>קוד שגוי</p>
    </form>
  </dialog>

  <script src="script.js" defer></script>
  <!-- HMR check: modified for live reload test -->
</body>
</html>
